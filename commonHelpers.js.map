{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_n4VWIaVJ8MEwjf6Kd5BbI1T5MOpXlUsfsYzkr7ScX1gYNGyuofj3slrEniHrovtb';\n\nexport async function fetchBreeds() {\n  return await axios.get(`${BASE_URL}/breeds`);\n}\n\nexport async function fetchCatByBreeds(breedId) {\n  return await axios.get(`${BASE_URL}/images/search?breed_ids=${breedId}`);\n}\n","import { fetchBreeds, fetchCatByBreeds } from './cat-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SlimSelect from 'slim-select';\nimport 'slim-select/styles';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  list: document.querySelector('.cat-info'),\n  error: document.querySelector('.error'),\n};\n\nfunction populateBreedOptions(data) {\n  return data\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction loadBreeds() {\n  refs.loader.classList.remove('hide');\n  refs.error.classList.add('hide');\n  fetchBreeds()\n    .then(({ data }) => {\n      refs.select.innerHTML = populateBreedOptions(data);\n      new SlimSelect({\n        select: refs.select,\n      });\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Hey',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'topRight',\n        progressBarColor: 'red',\n      });\n    })\n    .finally(() => {\n      refs.loader.classList.add('hide');\n      refs.select.classList.remove('hide');\n    });\n}\nloadBreeds();\n\nrefs.select.addEventListener('change', onChangeOption);\n\nfunction onChangeOption(event) {\n  refs.loader.classList.remove('hide');\n  fetchCatByBreeds(event.target.value)\n    .then(({ data }) => {\n      refs.list.innerHTML = '';\n      refs.loader.classList.remove('hide');\n      let { name, description, temperament } = data[0].breeds[0];\n      let { url } = data[0];\n      refs.list.innerHTML = catMarkup({\n        name,\n        description,\n        temperament,\n        url,\n      });\n    })\n    .catch(error => {\n      refs.list.innerHTML = '';\n      iziToast.show({\n        title: 'Hey',\n        message: 'FAILED FETCH API!',\n        position: 'topRight',\n        progressBarColor: 'red',\n      });\n    })\n    .finally(() => {\n      refs.loader.classList.add('hide');\n    });\n}\n\nfunction catMarkup({ name, description, temperament, url }) {\n  return `\n    <img src=\"${url}\" alt=\"${name}\" style=\"width: 1240px\" />\n    <div style=\"width: 1240px\">\n    <h2>${name}</h2>\n    <p>${description}</p>\n    <p><span>Temperament:</span> ${temperament}</p>\n    </div >`;\n}\n"],"names":["BASE_URL","axios","fetchBreeds","fetchCatByBreeds","breedId","refs","populateBreedOptions","data","id","name","loadBreeds","SlimSelect","error","iziToast","onChangeOption","event","description","temperament","url","catMarkup"],"mappings":"+vBAEA,MAAMA,EAAW,+BACjBC,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAClC,OAAO,MAAMD,EAAM,IAAI,GAAGD,UAAiB,CAC7C,CAEO,eAAeG,EAAiBC,EAAS,CAC9C,OAAO,MAAMH,EAAM,IAAI,GAAGD,6BAAoCI,GAAS,CACzE,CCLA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,KAAM,SAAS,cAAc,WAAW,EACxC,MAAO,SAAS,cAAc,QAAQ,CACxC,EAEA,SAASC,EAAqBC,EAAM,CAClC,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,KAAK,EAAE,CACZ,CAEA,SAASC,GAAa,CACpBL,EAAK,OAAO,UAAU,OAAO,MAAM,EACnCA,EAAK,MAAM,UAAU,IAAI,MAAM,EAC/BH,EAAa,EACV,KAAK,CAAC,CAAE,KAAAK,KAAW,CAClBF,EAAK,OAAO,UAAYC,EAAqBC,CAAI,EACjD,IAAII,EAAW,CACb,OAAQN,EAAK,MACrB,CAAO,CACP,CAAK,EACA,MAAMO,GAAS,CACdC,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,sDACT,SAAU,WACV,iBAAkB,KAC1B,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbR,EAAK,OAAO,UAAU,IAAI,MAAM,EAChCA,EAAK,OAAO,UAAU,OAAO,MAAM,CACzC,CAAK,CACL,CACAK,IAEAL,EAAK,OAAO,iBAAiB,SAAUS,CAAc,EAErD,SAASA,EAAeC,EAAO,CAC7BV,EAAK,OAAO,UAAU,OAAO,MAAM,EACnCF,EAAiBY,EAAM,OAAO,KAAK,EAChC,KAAK,CAAC,CAAE,KAAAR,KAAW,CAClBF,EAAK,KAAK,UAAY,GACtBA,EAAK,OAAO,UAAU,OAAO,MAAM,EACnC,GAAI,CAAE,KAAAI,EAAM,YAAAO,EAAa,YAAAC,CAAa,EAAGV,EAAK,GAAG,OAAO,GACpD,CAAE,IAAAW,CAAG,EAAKX,EAAK,GACnBF,EAAK,KAAK,UAAYc,EAAU,CAC9B,KAAAV,EACA,YAAAO,EACA,YAAAC,EACA,IAAAC,CACR,CAAO,CACP,CAAK,EACA,MAAMN,GAAS,CACdP,EAAK,KAAK,UAAY,GACtBQ,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,oBACT,SAAU,WACV,iBAAkB,KAC1B,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbR,EAAK,OAAO,UAAU,IAAI,MAAM,CACtC,CAAK,CACL,CAEA,SAASc,EAAU,CAAE,KAAAV,EAAM,YAAAO,EAAa,YAAAC,EAAa,IAAAC,CAAG,EAAI,CAC1D,MAAO;AAAA,gBACOA,WAAaT;AAAA;AAAA,UAEnBA;AAAA,SACDO;AAAA,mCAC0BC;AAAA,YAEnC"}