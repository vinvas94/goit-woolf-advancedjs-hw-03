{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] =\n  'live_n4VWIaVJ8MEwjf6Kd5BbI1T5MOpXlUsfsYzkr7ScX1gYNGyuofj3slrEniHrovtb';\n\nexport async function fetchBreeds() {\n  return await axios.get(`${BASE_URL}/breeds`);\n}\n\nexport async function fetchCatByBreeds(breedId) {\n  return await axios.get(`${BASE_URL}/images/search?breed_ids=${breedId}`);\n}\n","import { fetchBreeds, fetchCatByBreeds } from './cat-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  list: document.querySelector('.cat-info'),\n  error: document.querySelector('.error'),\n};\n\nfunction populateBreedOptions(data) {\n  const breedOptions = data\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n  return `<option value=\"\" disabled selected>Select a cat, please!</option>${breedOptions}`;\n}\n\nfunction loadBreeds() {\n  refs.loader.classList.remove('hide');\n  refs.error.classList.add('hide');\n  fetchBreeds()\n    .then(({ data }) => {\n      const breedOptions = populateBreedOptions(data);\n      refs.select.innerHTML = breedOptions;\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Hey',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'topRight',\n        progressBarColor: 'red',\n      });\n    })\n    .finally(() => {\n      refs.loader.classList.add('hide');\n      refs.select.style.display = 'block';\n    });\n}\nloadBreeds();\n\nrefs.select.addEventListener('change', onChangeOption);\n\nfunction onChangeOption(event) {\n  refs.loader.classList.remove('hide');\n  fetchCatByBreeds(event.target.value)\n    .then(({ data }) => {\n      refs.list.innerHTML = '';\n      refs.loader.classList.remove('hide');\n      let { name, description, temperament, origin } = data[0].breeds[0];\n      let { url } = data[0];\n      refs.list.innerHTML = catMarkup({\n        name,\n        description,\n        temperament,\n        url,\n        origin,\n      });\n    })\n    .catch(error => {\n      refs.list.innerHTML = '';\n      iziToast.show({\n        title: 'Hey',\n        message: 'Oops! Something went wrong! Try reloading the page!',\n        position: 'topRight',\n        progressBarColor: 'red',\n      });\n    })\n    .finally(() => {\n      refs.loader.classList.add('hide');\n    });\n}\n\nfunction catMarkup({ id, name, description, temperament, url, origin }) {\n  return `<div class=\"cat-container\"><img class=\"cat-picture\" src=\"${url}\" alt=\"${id}\"></div >\n       <div class=\"cat-box\">\n    <h2 class=\"cat-name\"> ${name}</h2>\n    <p>${description}</p>\n    <p><span> <b>Temperament:</b> </span> ${temperament}</p>\n    <p><b>Origin:</b> ${origin}</p> </div >`;\n}\n"],"names":["BASE_URL","axios","fetchBreeds","fetchCatByBreeds","breedId","refs","populateBreedOptions","data","id","name","loadBreeds","breedOptions","error","iziToast","onChangeOption","event","description","temperament","origin","url","catMarkup"],"mappings":"6vBAEA,MAAMA,EAAW,+BACjBC,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAClC,OAAO,MAAMD,EAAM,IAAI,GAAGD,UAAiB,CAC7C,CAEO,eAAeG,EAAiBC,EAAS,CAC9C,OAAO,MAAMH,EAAM,IAAI,GAAGD,6BAAoCI,GAAS,CACzE,CCRA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,KAAM,SAAS,cAAc,WAAW,EACxC,MAAO,SAAS,cAAc,QAAQ,CACxC,EAEA,SAASC,EAAqBC,EAAM,CAIlC,MAAO,oEAHcA,EAClB,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KAAW,kBAAkBD,MAAOC,YAAe,EAC9D,KAAK,EAAE,GAEZ,CAEA,SAASC,GAAa,CACpBL,EAAK,OAAO,UAAU,OAAO,MAAM,EACnCA,EAAK,MAAM,UAAU,IAAI,MAAM,EAC/BH,EAAa,EACV,KAAK,CAAC,CAAE,KAAAK,KAAW,CAClB,MAAMI,EAAeL,EAAqBC,CAAI,EAC9CF,EAAK,OAAO,UAAYM,CAC9B,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,sDACT,SAAU,WACV,iBAAkB,KAC1B,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbR,EAAK,OAAO,UAAU,IAAI,MAAM,EAChCA,EAAK,OAAO,MAAM,QAAU,OAClC,CAAK,CACL,CACAK,IAEAL,EAAK,OAAO,iBAAiB,SAAUS,CAAc,EAErD,SAASA,EAAeC,EAAO,CAC7BV,EAAK,OAAO,UAAU,OAAO,MAAM,EACnCF,EAAiBY,EAAM,OAAO,KAAK,EAChC,KAAK,CAAC,CAAE,KAAAR,KAAW,CAClBF,EAAK,KAAK,UAAY,GACtBA,EAAK,OAAO,UAAU,OAAO,MAAM,EACnC,GAAI,CAAE,KAAAI,EAAM,YAAAO,EAAa,YAAAC,EAAa,OAAAC,CAAM,EAAKX,EAAK,GAAG,OAAO,GAC5D,CAAE,IAAAY,CAAG,EAAKZ,EAAK,GACnBF,EAAK,KAAK,UAAYe,EAAU,CAC9B,KAAAX,EACA,YAAAO,EACA,YAAAC,EACA,IAAAE,EACA,OAAAD,CACR,CAAO,CACP,CAAK,EACA,MAAMN,GAAS,CACdP,EAAK,KAAK,UAAY,GACtBQ,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,sDACT,SAAU,WACV,iBAAkB,KAC1B,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbR,EAAK,OAAO,UAAU,IAAI,MAAM,CACtC,CAAK,CACL,CAEA,SAASe,EAAU,CAAE,GAAAZ,EAAI,KAAAC,EAAM,YAAAO,EAAa,YAAAC,EAAa,IAAAE,EAAK,OAAAD,GAAU,CACtE,MAAO,4DAA4DC,WAAaX;AAAA;AAAA,4BAEtDC;AAAA,SACnBO;AAAA,4CACmCC;AAAA,wBACpBC,eACxB"}